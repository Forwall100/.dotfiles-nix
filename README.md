# Мои Dotfiles для nixos

## Структура

*   `flake.nix`: Основной файл Nix Flake, определяющий все системы и конфигурации Home Manager, доступные в этом репозитории.
*   `system/`: Директория, содержащая конфигурации для NixOS.
    *   `configuration.nix`: Базовый файл, который включает другие модули.
    *   `boot.nix`: Настройки загрузки системы.
    *   `desktop.nix`: Конфигурация графической среды.
    *   `fonts.nix`: Настройки шрифтов.
    *   `hardware.nix`: Настройки оборудования (автосгенерированый никсом бывший hardware-configuration.nix).
    *   `packages.nix`: Список системных пакетов.
    *   `shell.nix`: Настройки системной zsh.
    *   `sound.nix`: Конфигурация звука.
    *   `users.nix`: Определение пользователей.
*   `user/`: Директория, содержащая конфигурации Home Manager для пользователя.
    *   `home.nix`: Базовый файл Home Manager, который включает другие модули.
    *   `secrets.nix`: Ваши секреты (не отслеживается Git, создается из `secrets.nix.example`).
    *   `apps/`: Конфигурации для отдельных приложений.
    *   `environment.nix`: Переменные окружения.
    *   `packages.nix`: Список пользовательских пакетов.
    *   `services.nix`: Пользовательские сервисы.
    *   `shell.nix`: Настройки пользовательской оболочки.
    *   `wm/`: Конфигурации для оконных менеджеров.
        *   `hypr/`: Конфигурация для Hyprland.
            *   `animations.nix`: Анимашкэ.
            *   `autostart.nix`: Скрипты и приложения, стартующие вместе с Hyprland.
            *   `binds.nix`: Настройки хоткеев.
            *   `decoration.nix`: Настройки декораций окон (тени, скругления и т.д.).
            *   `general.nix`: Общие настройки (гапсы и тд).
            *   `gestures.nix`: Настройки жестов тачпада.
            *   `hypr.nix`: Базовый файл, который импортирует все остальные модули.
            *   `input.nix`: Настройки ввода.
            *   `layout.nix`: Настройки раскладки окон.
            *   `misc.nix`: Различные прочие настройки.
            *   `monitors.nix`: Конфигурация мониторов.
*   `scripts/`: Различные вспомогательные скрипты (например, для управления яркостью или громкостью).
*   `wallpaper/`: Моя коллекция обоин.

---

## Начало работы

### 1. Клонирование репозитория

Склонируйте этот репозиторий в вашу домашнюю директорию:

```bash
git clone https://github.com/Forwall100/.dotfiles.git ~/.dotfiles
cd ~/.dotfiles
```

### 2. Настройка секретов

Этот репозиторий использует файл `secrets.nix` для хранения конфиденциальной информации (например, API-ключей). Файл `secrets.nix` не отслеживается Git.

Чтобы настроить свои секреты:

1.  Скопируйте файл `user/secrets.nix.example` в `user/secrets.nix`:

    ```bash
    cp user/secrets.nix.example user/secrets.nix
    ```

2.  Откройте `user/secrets.nix` и заполните свои секреты. Например:

    ```nix
    {
      openrouterApiKey = "ВАШ_API_КЛЮЧ_ЗДЕСЬ";
    }
    ```

> [!NOTE]
> После определения секретов в `secrets.nix`, вы можете использовать их в других частях вашей конфигурации NixOS и Home Manager, например, в `user/environment.nix` для установки переменных окружения.

### 3. Применение конфигурации

Примените конфигурацию системы, используя Nix Flakes:

```bash
sudo nixos-rebuild switch --flake ~/.dotfiles
```

> [!TIP]
> После применения конфигурации будет доступен алиас `nrs`, который выполняет эту команду.

### 4. Обновление конфигурации

Чтобы обновить конфигурацию до последней версии из репозитория:

```bash
cd ~/.dotfiles
git pull
# Затем примените конфигурацию, как описано выше
```
